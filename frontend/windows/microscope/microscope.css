    /* Responsive: stack logo, title, nav */
    @media (max-width: 1280px) {
      .main-header {
        flex-direction: column;
        align-items: center;
        text-align: center;
      }

      .main-header h1 {
        font-size: 1.2rem;
      }

      .nav-bar ul {
        flex-direction: column;
        gap: 12px;
      }
    }

    @media (max-width: 1920px) {
      .container {
        flex-direction: column-reverse;
        /* right first, left below */
      }

      .left,
      .right {
        flex: none;
        /* stop shrinking */
        width: 100%;
        /* take full width */
      }
    }


    /* Switch to 1 column when width is 90% of 2k screen (~1728px) */
    @media (min-width: 1920px) {
      .output-images-vertical {
        grid-template-columns: 1fr;
        /* 1 column */
        grid-template-rows: auto;
      }
    }



    /*******************************************************************************/


    :root {
      --gap: 12px;
      --radius: 8px;
      --bg: #f5f7fa;
      --card-bg: #ffffff;
      --border: #d1d9e6;
      --shadow: rgba(0, 0, 0, 0.06);
      --ictpBlue: #2d3a73;
      --headerColor: #2d3a73;
      --btnColor: #19183B;
      --btnText: white;
      --boxBG: #f0f0f0;
      --normalText: black;

      --output-box-text: gray;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    }


    * {
      font-family: 'Anek Latin', sans-serif;
      box-sizing: border-box;
    }


    body {
      transition: background 0.3s ease, color 0.3s ease;
      
      margin: 0;
      padding: 0px;
      height: 100vh;
      /* background: #A1C2BD; */
    }



    /*******************************************************************************/
    .normalText {
      color: var(--normalText);
      font-weight: bold;
    }

    .cameraButton {
      border: none;
      box-shadow: inset 0 0 1px black;
      height: 30px;
    }

    .cameraButton:hover {
      filter: brightness(1.2);
    }

    #openCam {
      border-radius: 0px 0px 0px 10px;
    }

    #captureRefernceBtn {
      border-radius: 0px 0px 10px 0px;
    }

    /*******************************************************************************/

    .main-header {
      transition: background 0.3s ease, color 0.3s ease, border-color 0.3s ease;

      display: flex;
      align-items: center;
      /* vertically center all children */
      justify-content: space-between;
      /* h1 on left, nav on right */
      gap: 12px;
      padding: 12px 30vh;
      margin: 0 0 30px 0;
      background: #fff;
      border-bottom: 1px solid #d1d9e6;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    .main-header .logo {
      height: 60px;
      flex-shrink: 0;
      object-fit: contain;
    }

    .main-header h1 {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--headerColor);
      margin: 0;
    }

    .nav-bar {
      margin-left: auto;
    }

    .nav-bar ul {
      display: flex;
      gap: 20px;
      margin: 0;
      padding: 0;
      list-style: none;
      align-items: center;
      /* vertically center buttons */
    }

    .nav-bar li {
      display: flex;
      align-items: center;
      /* ensures buttons and toggle are centered */
    }

    .nav-bar a {
      text-decoration: none;
      font-weight: 600;
      color: #2d3a73;
      padding: 6px 10px;
      border-radius: 6px;
      transition: background 0.2s, color 0.2s;
    }

    .nav-bar a:hover {
      background: #2d3a73;
      color: #fff;
    }



    /*******************************************************************************/

    .page-wrapper {
      display: grid;
      grid-template-rows: auto 1fr auto;
      min-height: 100vh;
      /* full viewport height */
      margin-top: 50px;
    }


    .container {
      display: flex;
      gap: 24px;
      max-width: 100%;
      margin: 0 auto;
      height: 100%;
      justify-content: center;
      align-items: stretch;
      /* make children stretch vertically */
    }



    /* The 2 main sections of page*/
    .left {
      display: flex;
      flex-direction: column;
      gap: 16px;
      flex: 2;
      /* takes twice the space of .right */
    }

    .right {
      display: flex;
      flex-direction: column;
      gap: 16px;
      flex: 1;
      /* keeps its width smaller */
    }

    .left>*,
    .right>* {
      flex-grow: 1;
    }

    .left {
      display: flex;
      flex-direction: column;
      gap: 16px;
      flex: 2;
      /* takes twice the space of .right */
    }

    .right {
      display: flex;
      flex-direction: column;
      gap: 16px;
      flex: 1;
      /* keeps its width smaller */
    }

    .left>*,
    .right>* {
      flex-grow: 1;
    }

    /*******************************************************************************/

    .hiddenInputField {
      display: none;
    }


    .mainBtn {
      padding: 8px 14px;
      border: none;
      border-radius: 6px;
      background: var(--btnColor);
      color: var(--btnText);
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 600;
      transition: filter 0.2s, transform 0.2s, background 0.2s;
    }

    .mainBtn:hover {
      filter: brightness(1.2);
      /* slightly lighten the button */
      transform: scale(1.05);
    }

    .custom-file-upload {
      border: 1px solid #ccc;
      display: inline-block;
      padding: 6px 12px;
      cursor: pointer;
    }

    /*******************************************************************************/


    footer {
      text-align: center;
      padding: 10px;
      font-size: 0.9rem;
      color: #666;
      background-color: transparent;
    }

    footer h4 {
      margin-bottom: 5px;
      font-weight: 600;
      color: #333;
      /* optional: make heading slightly darker */
    }

    footer a {
      color: #2d3a73;
      text-decoration: none;
    }

    footer a:hover {
      text-decoration: underline;
    }





    /*******************************************************************************/
    #processingOverlay {
      /* hidden by default */
      display: none;
      /* hidden by default */
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.6);
      z-index: 9999;

      /* flexbox centering */
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;

      /* optional styling */
      color: white;
      font-size: 1.5em;
      text-align: center;
    }

    .loader {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      display: inline-block;
      position: relative;
      border: 10px solid;
      border-color: rgba(255, 255, 255, 0.15) rgba(255, 255, 255, 0.25) rgba(255, 255, 255, 0.35) rgba(255, 255, 255, 0.5);
      box-sizing: border-box;
      animation: rotation 1s linear infinite;
    }

    @keyframes rotation {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }



    .popup {
      display: none;
      /* hidden by default */
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background-color: rgba(0, 0, 0, 0.5);
      /* overlay */
      justify-content: center;
      align-items: center;
      z-index: 999;
    }

    .popupGrid {

      position: relative;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 16px;
    }

    .popup-content {
      background-color: var(--card-bg);
      padding: 20px;
      border-radius: 8px;
      min-width: 300px;
      position: relative;
    }

    .close-btn {
      position: absolute;
      top: 8px;
      right: 8px;

      width: 28px;
      height: 28px;
      border: none;
      border-radius: 50%;

      background: #ff4d4d;
      /* red circle */
      color: #fff;
      font-size: 16px;
      font-weight: bold;
      line-height: 1;
      cursor: pointer;

      display: flex;
      align-items: center;
      justify-content: center;

      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.25);
      transition: background 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease;
    }

    .close-btn:hover {
      background: #e60000;
      transform: scale(1.1);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.35);
    }

    /*******************************************************************************/


    .capturedOutputContainer {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 14px 16px;
      display: flex;
      flex-direction: column;
      gap: 8px;
      box-shadow: 0 6px 16px var(--shadow);
    }


    .output-group {
      display: flex;
      flex-direction: column;
      align-items: center;
      /* <--- centers the button horizontally */
      justify-content: center;
      gap: 8px;
      margin-bottom: 20px;
    }

    .output-group button {
      margin-top: 8px;
    }



    .outputContainer {
      display: grid;
      /* use grid layout */
      grid-template-columns: repeat(2, 1fr);
      /* 2 columns of equal width */
      grid-template-rows: repeat(2, auto);
      /* 2 rows, height adjusts to content */
      gap: 16px;
      /* spacing between items */
      width: 800px;
      max-width: 100%;
      box-sizing: border-box;
    }

    .outputContainer .output-box {
      width: 100%;
      color: var(--ictpBlue);
      transition: background 0.3s ease, color 0.3s ease, border-color 0.3s ease;

      aspect-ratio: 16 / 9;
      /* maintain 16:9 ratio */
      border: 1px solid #ccc;
      border-radius: var(--radius);
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .output-images-vertical {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      /* default: 2 columns */
      grid-template-rows: auto;
      gap: 16px;
      width: 100%;
      /* fill container */
      max-width: 1920px;
      box-sizing: border-box;
    }

    .output-images-vertical .output-box {
      width: 100%;
      aspect-ratio: 16 / 9;
      border: 1px solid #ccc;
      border-radius: var(--radius);
      display: flex;
      justify-content: center;
      align-items: center;
    }



    .output-box {
      background-color: var(--boxBG);
      transition: background 0.3s ease;

      border: 1px solid #ccc;
      border-radius: var(--radius);
      display: flex;
      /* inline-flex isnâ€™t needed unless inline behavior is required */
      justify-content: center;
      align-items: center;
      font-weight: bold;
      font-size: 1rem;
      text-align: center;

      /* Keep 16:9 aspect ratio */
      aspect-ratio: 16 / 9;
      width: 100%;
      /* responsive width */
      max-width: 480px;
      /* optional: limit width */
      min-height: auto;
      /* height is determined by width & ratio */
      box-sizing: border-box;
    }


    .output-box-text {
      color: var(--output-box-text);
    }

    /*******************************************************************************/


    .exposureContainer {
      display: flex;
      height: 25px;

    }


    #setExposureBtn {
      background-color: white;
      border: none;
      border-radius: 0px 0 5px 0px;

      box-shadow: inset 0 0 2px black;
    }


    #setExposureBtn:hover {
      background-color: white;
      filter: brightness(120%);
    }

    .exposureLabelContainer {
      border-top: 1px solid lightgray;
      border-left: 1px solid lightgray;
      border-bottom: 1px solid lightgray;
      /* fixed typo */
      border-radius: 5px 0 0 0;
      background-color: white;
      color: black;
      user-select: none;
      /* prevent selection */
    }

    .exposureLabel {
      user-select: none;
      /* prevent selection */
    }

    #exposureInput {
      background-color: white;
      border: none;
      box-shadow: inset 0 0 2px 2px lightgray;

    }

    .exposureContainer button {
      border-radius: 0;
    }




    .cameraBox {
      border-radius: 1% 1% 0 0;

      width: 810px;
      height: 520px;
      background-color: gainsboro;
      background-image: url('../../resources/noise.gif');
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
      filter: brightness(100%);
      margin: 0 auto;
      /* ensures horizontal centering */
    }



    .camAll {

      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 14px 16px;
      display: flex;
      flex-direction: column;
      gap: 8px;
      box-shadow: 0 6px 16px var(--shadow);

      align-items: center;
      /* horizontally center all children */

    }

    /*******************************************************************************/

    .section {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 14px 16px;
      display: flex;
      flex-direction: column;
      gap: 8px;
      box-shadow: 0 6px 16px var(--shadow);
    }

    .section h2 {
      margin: 0 0 4px;
      font-size: 1rem;
      letter-spacing: 0.5px;
      text-transform: uppercase;
      font-weight: 600;
    }

    .row {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }


    .section .row {
      display: flex;
      gap: 20px;
      margin-bottom: 15px;
    }

    /* Each field takes 50% of row */
    .section .field {
      flex: 1;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    /* Fixed-width labels for alignment */
    .section .field label {
      width: 160px;
      /* adjust this for longer labels */
      font-size: 14px;
      color: black;
    }

    /* Inputs and selects fill remaining space
    .section .field input,
    .section .field select {
      padding: 6px;
      font-size: 14px;
      border: 1px solid #ccc;
      border-radius: 4px;
      background: white;

    } */

    /*******************************************************************************/


    .camera-box {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .controls input {
      margin: 0px 0px 10px 10px;
    }


    #center {
      color: white;
    }


    #cameraStream {

      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      /* center the SVG */
      width: 200px;
      /* adjust as needed */
      height: auto;
      pointer-events: none;
      /* allows clicks through it */
      opacity: 0.2;
      /* 0 = fully transparent, 1 = fully opaque */

    }


    .camera-header {
      font-weight: 600;
      margin-bottom: 4px;
    }

    video {
      border: 1px solid #c7d0e0;
      width: 100%;
      max-height: 400px;
      background: #000;
    }



    /* Directional pad */
    .directional-container {
      margin-top: 12px;
      width: 100%;
      display: flex;
      flex-direction: row;
      align-items: center;
      /* vertical center */
      justify-content: center;
      /* horizontal center */
      gap: 6px;
    }
















    .focus-controls {
      display: flex;
      flex-direction: column;
      gap: 10px;
      justify-content: center;
    }

    .focus-controls button {
      padding: 8px 12px;
      min-width: 100px;
    }



    #foucsingBtns {
      display: flex;
      flex-direction: column;
      gap: 10px;
      width: 60px;
    }

    .camStuff {
      display: flex;
      justify-content: center;
      /* centers horizontally */
      align-items: center;
      /* centers vertically */
      width: 100%;
      height: 100%;
    }


    #foucsingBtns button {
      width: 60px;
      height: 60px;
      font-size: 36px;
      cursor: pointer;
      border: 1px solid #333;
      background-color: #eee;
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      user-select: none;
    }

    #foucsingBtns button:focus {
      outline: 2px solid blue;
    }







    .o-pad {
      position: relative;
      width: 200px;
      height: 200px;
      margin: 0;
      /* removed 50px auto to allow container centering */
    }

    .square {
      width: 200px;
      height: 200px;
      display: grid;
      gap: 5px;
      grid-template-columns: 1fr 1fr;
      grid-template-rows: 1fr 1fr;
      transform: rotate(45deg);
      /* removed 50px auto */
      position: relative;
    }

    .dirctional-btn {
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      border: none;
      cursor: pointer;

      color: gray;
      position: relative;
      background-color: ghostwhite;
      /* fresh green base */
    }

    .square button {
      width: 100%;
      height: 100%;
      font-size: 16px;
      cursor: pointer;
      /* light gray */
      position: relative;
      overflow: hidden;
      border-radius: 10px;
      /* slight rounding for all buttons */
    }

    .square button::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0;
      transition: opacity 0.5s ease;
      z-index: 0;
    }

    /* Gradient direction based on button ID with better colors */
    #top::before {
      background: linear-gradient(to bottom right, #32CD32, rgba(255, 127, 80, 0));
    }

    #right::before {
      background: linear-gradient(to bottom left, #FF7F50, rgba(30, 144, 255, 0));
    }

    #bottom::before {
      background: linear-gradient(to top left, #32CD32, rgba(50, 205, 50, 0));
    }

    #left::before {
      background: linear-gradient(to top right, #FF7F50, rgba(255, 215, 0, 0));
    }

    #top::before {
      background: linear-gradient(to bottom right, #32CD32, rgba(255, 127, 80, 0));
    }


    .square button:hover::before {
      opacity: 1;
    }

    .square button span {
      position: relative;
      z-index: 1;
    }

    .circle {
      position: absolute;
      top: 50%;
      /* adjusted for vertical centering */
      left: 50%;
      transform: translate(-50%, -50%);
      width: 60px;
      height: 60px;
      background-color: #9d9d9d;
      /* pink for contrast */
      border-radius: 50%;
    }

    /* Center button styling with better color and hover */
    #center {
      position: absolute;
      top: 50%;
      /* adjusted for vertical centering */
      left: 50%;
      transform: translate(-50%, -50%);
      border-radius: 50%;
      width: 50px;
      height: 50px;
      background-color: gray;
      /* bright orange-red */
      cursor: pointer;
      z-index: 10;
      border: none;

    }

    #center:hover {
      transform: translate(-50%, -50%) scale(1.1);
      background-color: lightblue;
      transition: background-color 0.2s ease;
      /* lighter orange-red on hover */
    }

    /* Directional button corner rounding */
    #top {
      border-top-left-radius: 100%;

    }

    #right {
      border-top-right-radius: 100%;
    }

    #left {
      border-bottom-left-radius: 100%;
    }

    #bottom {
      border-bottom-right-radius: 100%;
    }

    #topText {
      transform: rotate(-45deg);
    }

    #rightText {
      transform: rotate(-45deg);
    }

    #leftText {
      transform: rotate(-45deg);
    }

    #bottomText {
      transform: rotate(-45deg);
    }


    .movment-container {
      display: grid;
      grid-template-columns: auto auto;
      gap: 10px;
      height: 300px;
      width: 500px;
      padding: 30px;
      border-radius: 15px;

      /* Neumorphic / carved effect */
      background: #e0e0e0;
      /* light background */
      -moz-box-shadow: inset 0 0 5px 3px #9d9d9d;
      -webkit-box-shadow: inset 0 0 3px 5px #9d9d9d;
      box-shadow: inset 0 0 5px 3px #9d9d9d;

      /* child centering inside itself */
      align-items: center;
      justify-items: center;
    }

    .controls {
      display: flex;
      width: 100%;
    }






    .controls>* {
      flex: 1;
      /* each child takes equal space */
      text-align: center;
      /* optional: center text inside */
    }


    /* Focus controls container */
    .focus-controls {
      display: flex;
      flex-direction: column;
      gap: 5px;
      height: 100%;
      padding: 5px;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      overflow: hidden;
      color: gray;
      /* horizontal centering */
      margin-left: auto;
      margin-right: auto;
    }

    /* Focus buttons */
    .focusButton {
      flex: 1;
      width: 60%;
      color: gray;
      /* solid focus color */
      border: none;
      border-radius: 10px;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      transition: transform 0.2s ease;
    }

    .focusButton:hover {
      transform: scale(1.05);
    }

    /* Focus label */
    .focus-div {
      flex: 0 0 50px;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      /* solid light gray */
      border-radius: 10px;
      overflow: hidden;
      box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
      user-select: none;

    }


    /* Focus button */
    #focus {
      position: relative;
      /* Needed for ::before positioning */
      background-color: #f2f2f2;
      /* base color */
      border: none;
      border-radius: 10px;
      width: 100%;
      height: 50px;
      cursor: pointer;
      color: gray;
      overflow: hidden;
    }

    #focus::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(to bottom, lightblue, #f2f2f2);
      opacity: 0;
      transition: opacity 0.5s ease;
      pointer-events: none;
      z-index: 0;
      /* gradient behind text */
    }

    #focus span {
      position: relative;
      z-index: 1;
      /* text above gradient */
    }

    #focus:hover::before {
      opacity: 1;
    }

    /* Unfocus button */
    #unfocus {
      position: relative;
      background-color: #f2f2f2;
      border: none;
      border-radius: 10px;
      width: 100%;
      height: 50px;
      cursor: pointer;
      color: gray;
      overflow: hidden;
    }

    #unfocus::before {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(to top, lightblue, #f2f2f2);
      opacity: 0;
      transition: opacity 0.5s ease;
      pointer-events: none;
      z-index: 0;
      /* gradient behind text */
    }

    #unfocus span {
      position: relative;
      z-index: 1;
    }

    #unfocus:hover::before {
      opacity: 1;
    }







    #themeToggle {
      border-radius: 50%;
      /* circle */
      width: 40px;
      height: 40px;
      font-size: 1.5rem;
      display: flex;
      align-items: center;
      /* vertical center */
      justify-content: center;
      /* horizontal center */
      text-align: center;
    }







    body.dark-mode {
      --boxBG: lightGray;
      --bg: #2e3440;
      --card-bg: #22272f;
      --border: #333;
      --shadow: rgba(0, 0, 0, 0.8);
      --ictpBlue: black;
      --headerColor: white;
      /* lighter text in dark mode */
      --btnColor: lightGray;
      --btnText: black;
      /* --output-box-text: green; */
      --normalText: ghostwhite;
      color: #f1f1f1;
      background: var(--bg);
    }


    body.dark-mode .main-header {
      background: var(--card-bg);
      border-bottom: 1px solid var(--border);
    }

    body.dark-mode footer {
      color: #aaa;
    }

    body.dark-mode a {
      color: #4c8dff;
    }